(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(37),r=n.n(s),i=(n(45),n(46),n(5)),o=n(4),l=Object(c.createContext)(),j=n(20),u=n(1),d=function(){var e=Object(c.useContext)(l),t=e.logout,n=e.userAuth,a=e.user,s=Object(u.jsxs)(c.Fragment,{children:[Object(u.jsxs)("li",{children:[a,"Hello ",a&&a.name]}),Object(u.jsx)("span",{className:"sm-hide",children:"|"}),Object(u.jsxs)("li",{children:[Object(u.jsxs)(i.b,{to:"/login",children:[" ",Object(u.jsx)("a",{onClick:function(){t()},href:"#!",children:Object(u.jsx)("span",{className:"sm-hide",children:"Logout"})})]}),Object(u.jsx)(j.a,{color:"white"})]})]}),r=Object(u.jsxs)(c.Fragment,{children:[Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{to:"register",children:"Register"})}),Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{to:"/login",children:" Log In"})})]});return Object(u.jsxs)("div",{className:"navbar",children:[Object(u.jsx)("div",{className:"logo",children:Object(u.jsxs)("h1",{children:[Object(u.jsx)("i",{className:"as fa-glass-cheers"}),Object(u.jsx)(i.b,{to:"/",children:"Invitation App"})]})}),Object(u.jsx)("ul",{children:n?s:r})]})},b=n(16),h=n(3),O=n(9),p=Object(c.createContext)(),x=function(){var e=Object(c.useContext)(p),t=e.addGuest,n=e.editAble,a=e.updateGuest,s=e.clearEdit;Object(c.useEffect)((function(){l(null!==n?n:{name:"",phone:"",dietary:"Vegan"})}),[n]);var r=Object(c.useState)({name:"",phone:"",dietary:"Vegan"}),i=Object(O.a)(r,2),o=i[0],l=i[1],j=o.name,d=o.phone,x=o.dietary,m=function(e){l(Object(h.a)(Object(h.a)({},o),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(u.jsxs)("div",{className:"invite-section",children:[Object(u.jsx)("h1",{children:null!==n?"Edit Guest":"Add Guest"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),null!==n?(a(o),s()):(t(o),console.log(o),l({name:"",phone:"",dietary:"Vegan"}))},children:[Object(u.jsx)("input",{type:"text",placeholder:"Name",name:"name",value:j,onChange:m}),Object(u.jsx)("input",{type:"text",placeholder:"Phone",name:"phone",value:d,onChange:m}),Object(u.jsx)("p",{className:"options-label",children:"Dietary"}),Object(u.jsxs)("div",{className:"options",children:[Object(u.jsxs)("label",{class:"container",children:["Non-Veg",Object(u.jsx)("input",{type:"radio",name:"dietary",value:"Non-Veg",checked:"Non-Veg"===x,onChange:m}),Object(u.jsx)("span",{class:"checkmark"})]}),Object(u.jsxs)("label",{class:"container",children:["Vegan",Object(u.jsx)("input",{type:"radio",name:"dietary",value:"Vegan",checked:"Vegan"===x,onChange:m}),Object(u.jsx)("span",{class:"checkmark"})]})]}),Object(u.jsx)("input",{type:"submit",value:"Submit",className:null!==n?"btnGr":"btn"})]})]})},m=function(){var e=Object(c.useContext)(p),t=e.guests,n=(e.getGuests,t.length),a=t.filter((function(e){return e.isconfirmed})),s=(a.length,function(e){return t.filter((function(t){return t.dietary===e})).length});return Object(u.jsx)("div",{className:"main",children:Object(u.jsx)("table",{children:Object(u.jsxs)("tbody",{children:[Object(u.jsx)("tr",{children:Object(u.jsx)("th",{children:"Guest"})}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Non-Veg"}),Object(u.jsx)("td",{children:s("Non-Veg")})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Vegan"}),Object(u.jsx)("td",{children:s("Vegan")})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Pescetarians"}),Object(u.jsx)("td",{children:s("Pascatarian")})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Total"}),Object(u.jsx)("td",{children:n})]})]})})})},f=n(8),v=function(e){var t=Object(c.useContext)(p).toggleFilter;return Object(u.jsx)("div",{class:"card",children:Object(u.jsxs)("div",{class:"additional",children:[Object(u.jsx)("div",{class:"user-card",children:e.mainIcon}),Object(u.jsxs)("div",{class:"more-info",children:[Object(u.jsx)("h1",{children:e.name}),Object(u.jsxs)("div",{class:"stats",children:[Object(u.jsx)(i.b,{to:"/GuestCounter",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{class:"title",children:e.filter1}),Object(u.jsx)("div",{children:Object(u.jsx)(f.c,{className:"iconSize"})})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)(i.b,{to:"/VeganGuest",children:[Object(u.jsx)("div",{class:"title",children:e.filter2}),Object(u.jsx)("div",{children:Object(u.jsx)(f.d,{className:"iconSize",onClick:function(){return t()}})})]})}),Object(u.jsx)("div",{children:Object(u.jsxs)(i.b,{to:"/House",children:[Object(u.jsx)("div",{class:"title",children:e.filter3}),Object(u.jsx)("div",{children:Object(u.jsx)(f.b,{className:"iconSize"})})]})})]})]})]})})},g=n(17),y=function(e){var t=e.guest,n=Object(c.useContext)(p),a=n.removeGuest,s=n.updateGuest,r=n.editGuest,i=t._id,o=t.name,l=t.phone,d=t.dietary,b=t.isconfirmed;return Object(u.jsxs)("div",{className:"guest-card",children:[Object(u.jsxs)("div",{className:"card-head",children:[Object(u.jsx)("div",{}),Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{className:"btn1",onClick:function(){return r(t)},children:Object(u.jsx)(j.b,{})}),Object(u.jsx)("button",{className:"btn1",onClick:function(){a(i)},children:Object(u.jsx)(g.b,{})}),Object(u.jsx)("button",{className:"btn1",onClick:function(){s(Object(h.a)(Object(h.a)({},t),{},{isconfirmed:!b}))},children:Object(u.jsx)(g.a,{})})]})]}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h2",{children:o}),Object(u.jsx)("span",{className:"badge "+("Non-Veg"===d?"red":"Vegan"===d?"green":"seaGreen"),children:d}),Object(u.jsxs)("div",{className:"contact",children:[Object(u.jsx)(f.a,{}),Object(u.jsx)("p",{children:l})]})]})]})},N=function(){var e=Object(c.useContext)(p),t=e.guests,n=e.filterGuest,a=e.getGuests;return Object(c.useEffect)((function(){a()})),Object(u.jsx)("div",{className:"guests",children:t.map((function(e){return Object(u.jsx)(y,{guest:e},e.id)}))?t.filter((function(e){return!n||e.isconfirmed})).map((function(e){return Object(u.jsx)(y,{guest:e},e.id)})):null})},S=function(){return Object(u.jsxs)("div",{className:"app-container",children:[Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)("div",{className:"filter",children:Object(u.jsx)(v,{mainIcon:"",name:"Advanced Options",filter1:"Show Totals",filter2:"Show Vegans",filter3:"Rooms",filter1icon:Object(u.jsx)(f.c,{})})}),Object(u.jsx)(x,{})]}),Object(u.jsx)(N,{})]})},C=n(6),w=n.n(C),k=n(15),G=n(23),E="TOGGLE_FILTER",A="ADD_GUEST",R="REMOVE_GUEST",T="UPDATE_GUEST",V="EDIT_GUEST",I="CLEAR_EDIT",_="ADD_ROOM",U="REMOVE_ROOM",D="SUCCESS_REGISTER",L="SUCCESS_LOGIN",F="FAIL_LOGIN",P="FAIL_REGISTER",M="LOG_OUT",H="SET_USER",z="AUTH_ERROR",J="GET_GUESTS",q=function(e,t){var n=t.type,c=t.payload;switch(n){case J:return Object(h.a)(Object(h.a)({},e),{},{guests:c});case A:return Object(h.a)(Object(h.a)({},e),{},{guests:[].concat(Object(G.a)(e.guests),[c])});case R:return Object(h.a)(Object(h.a)({},e),{},{guests:e.guests.filter((function(e){return e._id!==c}))});case T:return Object(h.a)(Object(h.a)({},e),{},{guests:e.guests.map((function(e){return e._id===c._id?c:e}))});case V:return Object(h.a)(Object(h.a)({},e),{},{editAble:c});case I:return Object(h.a)(Object(h.a)({},e),{},{editAble:null});case E:return Object(h.a)(Object(h.a)({},e),{},{guests:e.guests.filter((function(e){return"Vegan"===e.dietary}))});default:return e}},B=n(13),W=n.n(B),K=function(e){var t=Object(c.useReducer)(q,{filterGuest:!1,editAble:null,guests:[],errors:null}),n=Object(O.a)(t,2),a=n[0],s=n[1],r=function(){var e=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("http://localhost:5000/guests");case 3:t=e.sent,s({type:J,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(k.a)(w.a.mark((function e(t){var n,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json"},e.prev=1,e.next=4,W.a.post("http://localhost:5000/guests",t,n);case 4:c=e.sent,t.isconfirmed=!1,s({type:A,payload:c.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:t.isconfirmed=!1,s({type:A,payload:t});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.delete("http://localhost:5000/guests/".concat(t));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:s({type:R,payload:t});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(k.a)(w.a.mark((function e(t){var n,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,W.a.put("http://localhost:5000/guests/".concat(t._id),t,n);case 4:c=e.sent,s({type:T,payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:s({type:T,payload:t});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(p.Provider,{value:{guests:a.guests,filterGuest:a.filterGuest,search:a.search,editAble:a.editAble,getGuests:r,addGuest:i,removeGuest:o,updateGuest:l,editGuest:function(e){s({type:V,payload:e})},clearEdit:function(){s({type:I,payload:""})},toggleFilter:function(){s({type:E})}},children:e.children})},Q=function(e,t){switch(t.type){case H:return Object(h.a)(Object(h.a)({},e),{},{user:t.payload,userAuth:!0,errors:null});case D:case L:return localStorage.setItem("token",t.payload.token),Object(h.a)(Object(h.a)({},e),{},{userAuth:!0,errors:null});case F:case P:case M:case z:return localStorage.removeItem("token"),Object(h.a)(Object(h.a)({},e),{},{userAuth:null,errors:t.payload});default:return e}},X=function(e){e?W.a.defaults.headers.common["auth-token"]=e:delete W.a.defaults.headers.common["auth-token"]},Y=function(e){var t={user:null,userAuth:!!localStorage.getItem("token")||null,errors:null},n=Object(c.useReducer)(Q,t),a=Object(O.a)(n,2),s=a[0],r=a[1],i=function(){var e=Object(k.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&X(localStorage.token),e.prev=1,e.next=4,W.a.get("http://localhost:5000/auth");case 4:t=e.sent,r({type:H,payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:z,payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(k.a)(w.a.mark((function e(t){var n,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={header:{"Application-Type":"application/json"}},e.prev=1,e.next=4,W.a.post("http://localhost:5000/register",t,n);case 4:c=e.sent,r({type:D,payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:P,payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(k.a)(w.a.mark((function e(t){var n,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={header:{"Application-Type":"application/json"}},e.prev=1,e.next=4,W.a.post("http://localhost:5000/auth",t,n);case 4:c=e.sent,r({type:L,payload:c.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:F,payload:e.t0.response.data});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(l.Provider,{value:{user:s.user,userAuth:s.userAuth,errors:s.errors,getUser:i,registerUser:o,loginUser:j,logout:function(){r({type:M})}},children:e.children})},Z=function(e){var t=Object(c.useContext)(l),n=t.registerUser,a=t.userAuth;t.errors;Object(c.useEffect)((function(){a&&e.history.push("/")}),[a,e.history]);var s=Object(c.useState)({name:"",email:"",password:"",password2:""}),r=Object(O.a)(s,2),o=r[0],j=r[1],d=o.name,p=o.email,x=o.password,m=o.password2,f=function(e){j(Object(h.a)(Object(h.a)({},o),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(u.jsxs)("div",{className:"register",children:[Object(u.jsx)("h1",{children:"Sign Up"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x!==m?console.log("not matching"):n({name:d,email:p,password:x})},children:[Object(u.jsx)("input",{type:"text",name:"name",placeholder:"name",value:d,onChange:f}),Object(u.jsx)("input",{type:"email",name:"email",placeholder:"email",value:p,onChange:f}),Object(u.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:x,onChange:f}),Object(u.jsx)("input",{type:"password",name:"password2",placeholder:"Confirm Password",value:m,onChange:f}),Object(u.jsx)("input",{type:"submit",value:"Sign Up",placeholder:"name",className:"btn"})]}),Object(u.jsx)("div",{className:"question",children:Object(u.jsxs)("p",{children:["Already have an account? "," "," ",Object(u.jsx)(i.b,{to:"/login",children:" Login "})]})})]})},$=function(e){var t=Object(c.useContext)(l),n=t.loginUser,a=t.userAuth;t.errors;Object(c.useEffect)((function(){a&&e.history.push("/")}),[a,e.history]);var s=Object(c.useState)({email:"",password:""}),r=Object(O.a)(s,2),o=r[0],j=r[1],d=o.email,p=o.password,x=function(e){j(Object(h.a)(Object(h.a)({},o),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"login",children:[Object(u.jsx)("h1",{children:"Sign In"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(o),n({email:d,password:p})},children:[Object(u.jsx)("input",{type:"email",name:"email",placeholder:"email",value:d,onChange:x}),Object(u.jsx)("input",{type:"password",name:"password",placeholder:"password",value:p,onChange:x}),Object(u.jsx)("input",{type:"submit",value:"Sign In",className:"btn"})]}),Object(u.jsx)("div",{className:"question",children:Object(u.jsxs)("p",{children:["Don't have an account? "," "," ",Object(u.jsx)(i.b,{to:"/register",children:"Here"})]})})]})})},ee=function(){var e=Object(c.useContext)(p),t=e.guests,n=e.getGuests;Object(c.useEffect)((function(){n()}));var a=t.filter((function(e){return"Vegan"===e.dietary}));return Object(u.jsxs)("div",{className:"app-container",children:[Object(u.jsx)("div",{className:"main",children:Object(u.jsx)("div",{className:"filter",children:Object(u.jsx)(v,{mainIcon:"",name:"Advanced Options",filter1:"Show Totals",filter2:"Show Vegans",filter3:"Rooms",filter1icon:Object(u.jsx)(f.c,{})})})}),Object(u.jsx)("div",{className:"guests",children:a.map((function(e){return Object(u.jsx)(y,{guest:e},e.id)}))}),Object(u.jsxs)("p",{className:"main",children:["Total No of Vegan : ",a.length]})]})},te=Object(c.createContext)(),ne=function(e){var t=e.room,n=Object(c.useContext)(te).removeRoom,a=t.id,s=t.name,r=t.phone;return Object(u.jsx)("div",{class:"main",children:Object(u.jsxs)("div",{className:"guest-card",children:[Object(u.jsxs)("div",{className:"card-head",children:[Object(u.jsx)("h2",{children:s}),Object(u.jsx)("button",{className:"btn1",onClick:function(){n(a)},children:Object(u.jsx)(g.b,{})})]}),Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("div",{className:"contact",children:[Object(u.jsx)("p",{children:r}),Object(u.jsx)("p",{children:a})]})})]})})},ce=function(){var e=Object(c.useContext)(te).addRoom,t=Object(c.useState)({name:"",phone:""}),n=Object(O.a)(t,2),a=n[0],s=n[1],r=a.name,i=a.phone,o=function(e){s(Object(h.a)(Object(h.a)({},a),{},Object(b.a)({},e.target.name,e.target.value)))};return Object(u.jsx)("div",{class:"main",children:Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(a),console.log(a),s({name:"",phone:""})},class:"main",children:[Object(u.jsx)("h1",{children:"Add a Room"}),Object(u.jsx)("input",{type:"text",placeholder:"Room Name",name:"name",value:r,onChange:o}),Object(u.jsx)("input",{type:"text",placeholder:"Date",name:"phone",value:i,onChange:o}),Object(u.jsx)("input",{type:"submit",value:"Submit",class:"btn"})]})})},ae=function(){var e=Object(c.useContext)(te).rooms,t=e.length;return Object(u.jsxs)("div",{className:"guests",children:[e.map((function(e){return Object(u.jsx)(ne,{room:e},e.id)})),Object(u.jsxs)("h2",{children:["Total No. of Rooms: ",t]})]})},se=function(){return Object(u.jsxs)("div",{className:"app-container",children:[Object(u.jsxs)("div",{class:"main",children:[Object(u.jsx)("div",{className:"filter",children:Object(u.jsx)(v,{mainIcon:"",name:"Advanced Options",filter1:"Show Totals",filter2:"Show Vegans",filter3:"Rooms",filter1icon:Object(u.jsx)(f.c,{})})}),Object(u.jsx)(ce,{}),Object(u.jsx)("div",{})]}),Object(u.jsx)(ae,{})]})},re=function(e,t){var n=t.type,c=t.payload;switch(n){case _:return Object(h.a)(Object(h.a)({},e),{},{rooms:[].concat(Object(G.a)(e.rooms),[c])});case U:return Object(h.a)(Object(h.a)({},e),{},{rooms:e.rooms.filter((function(e){return e.id!==c}))});default:return e}},ie=function(e){var t=Object(c.useReducer)(re,{rooms:[{id:1,name:"Jake Smith",phone:"333 444 357"},{id:2,name:"Merry Williams",phone:"222 777 2354"},{id:3,name:"Azhaan Idrees",phone:"988 346 5432"}],errors:null}),n=Object(O.a)(t,2),a=n[0],s=n[1],r=function(){var e=Object(k.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({type:U,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(te.Provider,{value:{rooms:a.rooms,addRoom:function(e){e.id=Date.now(),s({type:_,payload:e})},removeRoom:r},children:e.children})},oe=n(40),le=function(e){var t=e.component,n=Object(oe.a)(e,["component"]),a=Object(c.useContext)(l).userAuth;return Object(u.jsx)(o.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){return a?Object(u.jsx)(t,Object(h.a)({},e)):Object(u.jsx)(o.a,{to:"/login"})}}))};localStorage.token&&X(localStorage.token);var je=function(){return Object(u.jsx)(Y,{children:Object(u.jsx)(K,{children:Object(u.jsx)(ie,{children:Object(u.jsx)(i.a,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)(d,{}),Object(u.jsxs)(o.d,{children:[Object(u.jsx)(le,{exact:!0,path:"/",component:S}),Object(u.jsx)(o.b,{exact:!0,path:"/register",component:Z}),Object(u.jsx)(o.b,{exact:!0,path:"/login",component:$}),Object(u.jsx)(le,{exact:!0,path:"/GuestCounter",component:m}),Object(u.jsx)(le,{exact:!0,path:"/VeganGuest",component:ee}),Object(u.jsx)(le,{exact:!0,path:"/House",component:se})]})]})})})})})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(je,{})}),document.getElementById("root")),ue()}},[[72,1,2]]]);
//# sourceMappingURL=main.3b109235.chunk.js.map